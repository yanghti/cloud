<!DOCTYPE html>
<html>
  <head>
    <title>Cloud-Notes</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.48" />
<title>scaleDisk :: Cloud-Notes</title>
<link rel="shortcut icon" href="/cloud/images/favicon.png" type="image/x-icon" />
<link href="/cloud/css/font-awesome.min.css" rel="stylesheet">
<link href="/cloud/css/nucleus.css" rel="stylesheet">
<link href="/cloud/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/cloud/css/bootstrap.min.css">
<script src="/cloud/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/yanghti.github.io\/cloud";
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79101-13', 'auto');
  ga('send', 'pageview');

</script>

    
  </head>
  <body data-url="/cloud/cloud-storage/ceph/operations/scale-disk/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://yanghti.github.io/cloud">Cloud-Notes</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/vjeantet/hugo-theme-docdock"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/vjeantet/hugo-theme-docdock/archive/master.zip"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://gohugo.io/"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Hugo Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/cloud/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/cloud/" class="dd-item">
          <a href="/cloud/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/cloud/getting-start/" class="dd-item haschildren
        ">
      <div>
      <a href="/cloud/getting-start/">Getting started</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cloud/getting-start/installation/" class="dd-item">
        <div>
          <a href="/cloud/getting-start/installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cloud/getting-start/configuration/" class="dd-item">
        <div>
          <a href="/cloud/getting-start/configuration/">
            Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cloud/cloud-computing/" class="dd-item
        ">
      <div>
      <a href="/cloud/cloud-computing/">cloud computing</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/cloud/cloud-storage/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/cloud/cloud-storage/">cloud storage</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/cloud/cloud-storage/ceph/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/cloud/cloud-storage/ceph/">ceph</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/cloud/cloud-storage/ceph/operations/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/cloud/cloud-storage/ceph/operations/">operations</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cloud/cloud-storage/ceph/operations/ceph-build/" class="dd-item">
        <div>
          <a href="/cloud/cloud-storage/ceph/operations/ceph-build/">
            ceph-build
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cloud/cloud-storage/ceph/operations/scale-disk/" class="dd-item active">
        <div>
          <a href="/cloud/cloud-storage/ceph/operations/scale-disk/">
            scaleDisk
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cloud/cloud-scheduling/" class="dd-item
        ">
      <div>
      <a href="/cloud/cloud-scheduling/">cloud scheduling</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/cloud/search/" class="dd-item
        ">
      <div>
      <a href="/cloud/search/">About the Search Engine</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download vjeantet/hugo-theme-docdock on GitHub">Download</a>


<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock" data-icon="octicon-star" data-show-count="false" aria-label="Star vjeantet/hugo-theme-docdock on GitHub">Star</a>


<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork vjeantet/hugo-theme-docdock on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/cloud/getting-start/" >
   Getting started</option>
    <option value="/cloud/cloud-computing/" >
   cloud computing</option>
    <option value="/cloud/cloud-storage/" >
   cloud storage</option> 
    <option value="/cloud/cloud-storage/ceph/" >
  - 
   ceph</option> 
    <option value="/cloud/cloud-storage/ceph/operations/" >
  -- 
   operations</option> 
      <option value="/cloud/cloud-storage/ceph/operations/ceph-build/" >--- ceph-build</option>
      <option value="/cloud/cloud-storage/ceph/operations/scale-disk/"  selected>--- scaleDisk</option>
  
  
  
    <option value="/cloud/cloud-scheduling/" >
   cloud scheduling</option>
    <option value="/cloud/create-page/" >
   Create Page</option>
    <option value="/cloud/content-organisation/" >
   Content Organisation</option>
    <option value="/cloud/shortcodes/" >
   Shortcodes</option>
    <option value="/cloud/search/" >
   About the Search Engine</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/cloud/js/lunr.min.js"></script>
        <script type="text/javascript" src="/cloud/js/auto-complete.js"></script>
        <link href="/cloud/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/yanghti.github.io\/cloud";
          
        </script>
        <script type="text/javascript" src="/cloud/js/search.js"></script>
      </div>
    

    <h1>scaleDisk</h1>
    
    
    
    

<h2 id="centos-7-硬盘扩容">centos 7 硬盘扩容</h2>

<hr />

<h3 id="资源">资源</h3>

<ol>
<li>硬盘扩容<br />
<a href="https://www.cnblogs.com/Sungeek/p/9084510.html">VMware虚拟机中CentOS 7的硬盘空间扩容</a><br />
<a href="https://blog.csdn.net/remote_roamer/article/details/50670802">扩大VMware虚拟机中CentOS 7的硬盘空间</a><br />
<a href="https://blog.csdn.net/zoubf/article/details/46595269">给VMware下的Linux扩展磁盘空间(以CentOS7)</a><br />
<a href="https://www.jianshu.com/p/3f29303cd07c">虚拟机下扩容磁盘(centos7)</a></li>
<li>文件系统管理<br />
<a href="http://blog.51cto.com/xinzong/1750843">CentOS 7磁盘分区及文件系统管理</a></li>
<li>lvm管理<br />
<a href="https://www.cnblogs.com/Mr-Ding/p/9198057.html">centos下LVM配置与管理</a><br />
<a href="http://blog.51cto.com/fengyunshan911/1958236">linux CentOS 7 中LVM讲解配置实例及磁盘扩容等</a></li>
</ol>

<h3 id="步骤">步骤</h3>

<ol>
<li><p>查看挂载点</p>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ df -h
Filesystem               Size  Used Avail Use% Mounted on
/dev/mapper/centos-root   17G   17G   20K 100% /
devtmpfs                 476M     0  476M   0% /dev
tmpfs                    488M     0  488M   0% /dev/shm
tmpfs                    488M   51M  437M  11% /run
tmpfs                    488M     0  488M   0% /sys/fs/cgroup
/dev/sda1               1014M  130M  885M  13% /boot
tmpfs                     98M     0   98M   0% /run/user/1000
tmpfs                     98M     0   98M   0% /run/user/0
</code></pre></li>

<li><p>扩展vmware硬盘空间
<img src="./scaleoutDisk.jpg" alt="scaleDiskImg" /></p></li>

<li><p>硬盘分区和格式化</p>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo fdisk -l

Disk /dev/sda: 128.8 GB, 128849018880 bytes, 251658240 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: dos
Disk identifier: 0x000a9fcc

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048     2099199     1048576   83  Linux
/dev/sda2         2099200    41943039    19921920   8e  Linux LVM

Disk /dev/mapper/centos-root: 18.2 GB, 18249416704 bytes, 35643392 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

</code></pre>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo fdisk /dev/sda
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): m
Command action
    a   toggle a bootable flag
    b   edit bsd disklabel
    c   toggle the dos compatibility flag
    d   delete a partition
    g   create a new empty GPT partition table
    G   create an IRIX (SGI) partition table
    l   list known partition types
    m   print this menu
    n   add a new partition
    o   create a new empty DOS partition table
    p   print the partition table
    q   quit without saving changes
    s   create a new empty Sun disklabel
    t   change a partition's system id
    u   change display/entry units
    v   verify the partition table
    w   write table to disk and exit
    x   extra functionality (experts only)

Command (m for help): p

Disk /dev/sda: 128.8 GB, 128849018880 bytes, 251658240 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: dos
Disk identifier: 0x000a9fcc

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048     2099199     1048576   83  Linux
/dev/sda2         2099200    41943039    19921920   8e  Linux LVM

Command (m for help): n
Partition type:
   p   primary (2 primary, 0 extended, 2 free)
   e   extended
Select (default p): p
Partition number (3,4, default 3): 
First sector (41943040-251658239, default 41943040): 
Using default value 41943040
Last sector, +sectors or +size{K,M,G} (41943040-251658239, default 251658239): 
Using default value 251658239
Partition 3 of type Linux and of size 100 GiB is set

Command (m for help): t
Partition number (1-3, default 3): 3
Hex code (type L to list all codes): 8e
Changed type of partition 'Linux' to 'Linux LVM'

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.

WARNING: Re-reading the partition table failed with error 16: Device or resource busy.
The kernel still uses the old table. The new table will be used at
the next reboot or after you run partprobe(8) or kpartx(8)
Syncing disks.
</code></pre>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo fdisk -l

Disk /dev/sda: 128.8 GB, 128849018880 bytes, 251658240 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: dos
Disk identifier: 0x000a9fcc

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048     2099199     1048576   83  Linux
/dev/sda2         2099200    41943039    19921920   8e  Linux LVM
/dev/sda3        41943040   251658239   104857600   8e  Linux LVM

Disk /dev/mapper/centos-root: 18.2 GB, 18249416704 bytes, 35643392 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

[ceph-sh-admin@ceph-sh-admin ~]$ ls /dev/sd*
/dev/sda  /dev/sda1  /dev/sda2  /dev/sda3
</code></pre>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo mkfs.xfs -f /dev/sda3
meta-data=/dev/sda3              isize=512    agcount=4, agsize=6553600 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=26214400, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=12800, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
</code></pre></li>

<li><p>添加LVM到已有LVM组，实现扩容</p>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo lvm
lvm&gt; pvs
  PV         VG     Fmt  Attr PSize   PFree
  /dev/sda2  centos lvm2 a--  &lt;19.00g    0 
lvm&gt; pvcreate /dev/sda3
WARNING: xfs signature detected on /dev/sda3 at offset 0. Wipe it? [y/n]: y
  Wiping xfs signature on /dev/sda3.
  Physical volume &quot;/dev/sda3&quot; successfully created.
lvm&gt; pvs
  PV         VG     Fmt  Attr PSize   PFree  
  /dev/sda2  centos lvm2 a--  &lt;19.00g      0 
  /dev/sda3         lvm2 ---  100.00g 100.00g
lvm&gt; vgs
  VG     #PV #LV #SN Attr   VSize   VFree
  centos   1   2   0 wz--n- &lt;19.00g    0
lvm&gt; vgdisplay -v
  --- Volume group ---
  VG Name               centos
  System ID             
  Format                lvm2
  Metadata Areas        1
  Metadata Sequence No  7
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                2
  Open LV               2
  Max PV                0
  Cur PV                1
  Act PV                1
  VG Size               &lt;19.00 GiB
  PE Size               4.00 MiB
  Total PE              4863
  Alloc PE / Size       4863 / &lt;19.00 GiB
  Free  PE / Size       0 / 0   
  VG UUID               IfEni0-lRDx-UB4N-s8AW-GDdO-sfRN-OThx5Y
    
  --- Logical volume ---
  LV Path                /dev/centos/swap
  LV Name                swap
  VG Name                centos
  LV UUID                O1UpfF-00v7-MLW6-Dp3S-u4m1-Xtia-p74QSz
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 2
  LV Size                2.00 GiB
  Current LE             512
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:1
    
  --- Logical volume ---
  LV Path                /dev/centos/root
  LV Name                root
  VG Name                centos
  LV UUID                6bmpXC-9IaE-wtnr-vv2H-DKDL-RoCZ-CdWxE6
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 1
  LV Size                &lt;17.00 GiB
  Current LE             4351
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:0
      
  --- Physical volumes ---
  PV Name               /dev/sda2     
  PV UUID               BC9HCz-LKj6-7rVo-JuVJ-3Zb2-GcYx-Ahcifr
  PV Status             allocatable
  Total PE / Free PE    4863 / 0
   
lvm&gt; vgextend centos /dev/sda3
  Volume group &quot;centos&quot; successfully extended
lvm&gt; vgdisplay -v
  --- Volume group ---
  VG Name               centos
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  8
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                2
  Open LV               2
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               118.99 GiB
  PE Size               4.00 MiB
  Total PE              30462
  Alloc PE / Size       4863 / &lt;19.00 GiB
  Free  PE / Size       25599 / &lt;100.00 GiB
  VG UUID               IfEni0-lRDx-UB4N-s8AW-GDdO-sfRN-OThx5Y
      
  --- Logical volume ---
  LV Path                /dev/centos/swap
  LV Name                swap
  VG Name                centos
  LV UUID                O1UpfF-00v7-MLW6-Dp3S-u4m1-Xtia-p74QSz
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 2
  LV Size                2.00 GiB
  Current LE             512
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:1
      
  --- Logical volume ---
  LV Path                /dev/centos/root
  LV Name                root
  VG Name                centos
  LV UUID                6bmpXC-9IaE-wtnr-vv2H-DKDL-RoCZ-CdWxE6
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 1
  LV Size                &lt;17.00 GiB
  Current LE             4351
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:0
      
  --- Physical volumes ---
  PV Name               /dev/sda2     
  PV UUID               BC9HCz-LKj6-7rVo-JuVJ-3Zb2-GcYx-Ahcifr
  PV Status             allocatable
  Total PE / Free PE    4863 / 0
      
  PV Name               /dev/sda3     
  PV UUID               bOlkL1-YqO6-b8Te-nEy1-mSzM-m9qO-yvlgks
  PV Status             allocatable
  Total PE / Free PE    25599 / 25599
      
lvm&gt; lvextend -l+25599 /dev/mapper/centos-root
  Size of logical volume centos/root changed from &lt;17.00 GiB (4351 extents) to 116.99 GiB (29950 extents).
  Logical volume centos/root successfully resized.
lvm&gt; lvdisplay
  --- Logical volume ---
  LV Path                /dev/centos/swap
  LV Name                swap
  VG Name                centos
  LV UUID                O1UpfF-00v7-MLW6-Dp3S-u4m1-Xtia-p74QSz
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 2
  LV Size                2.00 GiB
  Current LE             512
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:1
      
  --- Logical volume ---
  LV Path                /dev/centos/root
  LV Name                root
  VG Name                centos
  LV UUID                6bmpXC-9IaE-wtnr-vv2H-DKDL-RoCZ-CdWxE6
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 1
  LV Size                116.99 GiB
  Current LE             29950
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:0
      
lvm&gt; vgdisplay -v
  --- Volume group ---
  VG Name               centos
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  9
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                2
  Open LV               2
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               118.99 GiB
  PE Size               4.00 MiB
  Total PE              30462
  Alloc PE / Size       30462 / 118.99 GiB
  Free  PE / Size       0 / 0   
  VG UUID               IfEni0-lRDx-UB4N-s8AW-GDdO-sfRN-OThx5Y
      
  --- Logical volume ---
  LV Path                /dev/centos/swap
  LV Name                swap
  VG Name                centos
  LV UUID                O1UpfF-00v7-MLW6-Dp3S-u4m1-Xtia-p74QSz
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 2
  LV Size                2.00 GiB
  Current LE             512
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:1
      
  --- Logical volume ---
  LV Path                /dev/centos/root
  LV Name                root
  VG Name                centos
  LV UUID                6bmpXC-9IaE-wtnr-vv2H-DKDL-RoCZ-CdWxE6
  LV Write Access        read/write
  LV Creation host, time ceph-sh-admin, 2018-08-01 21:37:16 +0800
  LV Status              available
  # open                 1
  LV Size                116.99 GiB
  Current LE             29950
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  \- currently set to     8192
  Block device           253:0
      
  --- Physical volumes ---
  PV Name               /dev/sda2     
  PV UUID               BC9HCz-LKj6-7rVo-JuVJ-3Zb2-GcYx-Ahcifr
  PV Status             allocatable
  Total PE / Free PE    4863 / 0
      
  PV Name               /dev/sda3     
  PV UUID               bOlkL1-YqO6-b8Te-nEy1-mSzM-m9qO-yvlgks
  PV Status             allocatable
  Total PE / Free PE    25599 / 0
      
lvm&gt; pvdisplay
  --- Physical volume ---
  PV Name               /dev/sda2
  VG Name               centos
  PV Size               &lt;19.00 GiB / not usable 3.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              4863
  Free PE               0
  Allocated PE          4863
  PV UUID               BC9HCz-LKj6-7rVo-JuVJ-3Zb2-GcYx-Ahcifr
      
  --- Physical volume ---
  PV Name               /dev/sda3
  VG Name               centos
  PV Size               100.00 GiB / not usable 4.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              25599
  Free PE               0
  Allocated PE          25599
  PV UUID               bOlkL1-YqO6-b8Te-nEy1-mSzM-m9qO-yvlgks
      
lvm&gt; quit
  Exiting.
</code></pre></li>

<li><p>xfs扩容</p>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ sudo xfs_growfs /dev/mapper/centos-root 
meta-data=/dev/mapper/centos-root isize=512    agcount=4, agsize=1113856 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0 spinodes=0
data     =                       bsize=4096   blocks=4455424, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal               bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
data blocks changed from 4455424 to 30668800
</code></pre></li>

<li><p>再次查看硬盘空间</p>

<pre><code>[ceph-sh-admin@ceph-sh-admin ~]$ df -h
Filesystem               Size  Used Avail Use% Mounted on
/dev/mapper/centos-root   17G   17G   20K 100% /
devtmpfs                 476M     0  476M   0% /dev
tmpfs                    488M     0  488M   0% /dev/shm
tmpfs                    488M   51M  437M  11% /run
tmpfs                    488M     0  488M   0% /sys/fs/cgroup
/dev/sda1               1014M  130M  885M  13% /boot
tmpfs                     98M     0   98M   0% /run/user/1000
tmpfs                     98M     0   98M   0% /run/user/0
[ceph-sh-admin@ceph-sh-admin ~]$ df -Th
Filesystem              Type      Size  Used Avail Use% Mounted on
/dev/mapper/centos-root xfs       117G   17G  101G  15% /
devtmpfs                devtmpfs  1.4G     0  1.4G   0% /dev
tmpfs                   tmpfs     1.4G     0  1.4G   0% /dev/shm
tmpfs                   tmpfs     1.4G  9.4M  1.4G   1% /run
tmpfs                   tmpfs     1.4G     0  1.4G   0% /sys/fs/cgroup
/dev/sda1               xfs      1014M  130M  885M  13% /boot
tmpfs                   tmpfs     283M     0  283M   0% /run/user/1000
</code></pre></li>
</ol>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/cloud/cloud-storage/ceph/operations/ceph-build/" title="ceph-build"> <i class="fa fa-chevron-left"></i><label>ceph-build</label></a>
    <a class="nav nav-next" href="/cloud/cloud-scheduling/" title="cloud scheduling" style="margin-right: 0px;"><label>cloud scheduling</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/cloud-storage/ceph/operations/scale-Disk.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/cloud/js/clipboard.min.js"></script>

<link href="/cloud/css/featherlight.min.css" rel="stylesheet">
<script src="/cloud/js/featherlight.min.js"></script>



<script src="/cloud/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>